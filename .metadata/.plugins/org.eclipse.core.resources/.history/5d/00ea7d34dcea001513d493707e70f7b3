import java.util.*;
public class Solution {

	public static void main(String[] args) {
		// TODO Auto-generated method stub
		int[] in = {1,2,3};
		System.out.println(permuteUnique(in));
	}
    public static List<List<Integer>> permuteUnique(int[] nums) {
        List<Integer> input = new ArrayList<Integer>();
        for(int x : nums){
        	input.add(x);
        }
        return generate(input);
    }
    private static List<List<Integer>> generate(List<Integer> nums){
    	if(nums.size()==0){
    		return null;
    	}
    	else if(nums.size()==1){
    		List<List<Integer>> r = new ArrayList<List<Integer>>();
    		r.add(nums);
    		return r;
    	}
    	else{
    		HashSet<List<Integer>> filter = new HashSet<List<Integer>>();
    		for(int i = 0; i<nums.size(); i++){
    			List<Integer> next = new LinkedList<Integer>(nums);
    			int j = next.remove(i);
    			List<List<Integer>> data = generate(next);
    			for(List<Integer> x : data){
    				x.add(j);
    				filter.add(x);
    			}
    		}
    		return new LinkedList<List<Integer>>(filter);
    	}
    }
}
